# Python-RegEx

### الشرح الكامل لتعبيرات Regular Expressions (RegEx) في بايثون خطوة بخطوة

#### ما هو RegEx؟

RegEx، أو التعبيرات النمطية، هي تسلسل من الأحرف الذي يشكل نمطًا للبحث في النصوص. يمكن استخدامها للتحقق مما إذا كانت سلسلة نصية تحتوي على نمط معين أو لا، كما يمكن استخدامها في العديد من العمليات النصية مثل البحث، الاستبدال، والتقسيم.

التعبيرات النمطية هي أداة قوية جدًا ومستخدمة في العديد من لغات البرمجة والتطبيقات، وهي توفر طريقة دقيقة وسريعة للبحث عن أنماط معينة في النصوص أو تعديل هذه النصوص بناءً على الأنماط.

#### استيراد وحدة `re` في بايثون

في بايثون، هناك حزمة مدمجة تُسمى `re`، والتي توفر جميع الأدوات اللازمة للعمل مع التعبيرات النمطية.

لتتمكن من استخدام هذه الأدوات، عليك أولًا استيراد الحزمة باستخدام الكود التالي:

```python
import re
```

#### كيفية استخدام التعبيرات النمطية في بايثون

بمجرد استيراد وحدة `re`، يمكنك البدء باستخدام الوظائف المختلفة التي توفرها الحزمة للعمل مع التعبيرات النمطية. 

على سبيل المثال، إذا كنت ترغب في معرفة ما إذا كانت سلسلة نصية معينة تبدأ بكلمة "The" وتنتهي بكلمة "Spain"، يمكنك استخدام التعبير النمطي التالي:

```python
import re

txt = "The rain in Spain"
x = re.search("^The.*Spain$", txt)
```

في هذا المثال:
- `^The` تعني أن السلسلة يجب أن تبدأ بالكلمة "The".
- `.*` تعني أي عدد من الأحرف (بما في ذلك الصفر)، أي أنه يمكن أن يكون هناك أي نص بين "The" و"Spain".
- `Spain$` تعني أن السلسلة يجب أن تنتهي بكلمة "Spain".

#### الوظائف المتاحة في وحدة `re`

توفر وحدة `re` عدة وظائف للتعامل مع التعبيرات النمطية، وتشمل:

1. **findall()**: تعيد قائمة تحتوي على جميع التطابقات الموجودة في النص.
2. **search()**: تبحث في النص عن تطابق، وإذا وُجد، تعيد كائن Match يحتوي على معلومات حول التطابق.
3. **split()**: تقسم النص إلى أجزاء بناءً على التطابقات.
4. **sub()**: تستبدل التطابقات بنص آخر.

#### Metacharacters (الرموز الخاصة)

الـ Metacharacters هي رموز تحمل معاني خاصة في التعبيرات النمطية، وتتيح لك بناء أنماط بحث معقدة ومرنة. إليك بعض الرموز الخاصة المهمة:

1. **[]**: مجموعة من الأحرف. على سبيل المثال، `[a-m]` تعني أي حرف بين a و m.
2. **\**: تستخدم للإشارة إلى تسلسل خاص، مثل `\d` الذي يشير إلى رقم (digit).
3. **.**: يشير إلى أي حرف (باستثناء حرف السطر الجديد). على سبيل المثال، `"he..o"` قد تطابق "hello" أو "he4o".
4. **^**: يشير إلى بداية السلسلة. على سبيل المثال، `^hello` يعني أن السلسلة يجب أن تبدأ بكلمة "hello".
5. **$**: يشير إلى نهاية السلسلة. على سبيل المثال، `planet$` يعني أن السلسلة يجب أن تنتهي بكلمة "planet".
6. **+**: تعني تطابق واحد أو أكثر من التكرارات. على سبيل المثال، `"he.+o"` تطابق "hello" أو "heoo" (أي تطابق مع حرف أو أكثر بين "he" و"o").
7. **?**: تعني صفر أو تكرار واحد فقط. على سبيل المثال، `"he.?o"` تطابق "heo" أو "hello".

#### التسلسلات الخاصة (Special Sequences)

التسلسلات الخاصة هي تسلسل يبدأ بـ `\` متبوعًا بأحد الأحرف التالية، ولكل تسلسل معنى خاص في التعبيرات النمطية:

1. **\d**: يشير إلى أي رقم (0-9). على سبيل المثال، `\d` سيطابق أي رقم في النص.
2. **\D**: يشير إلى أي شيء ما عدا الأرقام.
3. **\s**: يشير إلى أي فراغ (مثل المسافة أو التبويب).
4. **\S**: يشير إلى أي حرف ما عدا الفراغات.
5. **\w**: يشير إلى أي حرف أو رقم أو رمز underscore (_) (أي حرف كلمة).
6. **\W**: يشير إلى أي شيء ما عدا أحرف الكلمة.
7. **\b**: تشير إلى حدود الكلمة، مما يعني بداية أو نهاية الكلمة.

#### أمثلة على الاستخدام العملي للتعبيرات النمطية

##### وظيفة findall():

تُعيد قائمة تحتوي على جميع التطابقات التي وُجدت في النص.

**مثال:**

```python
import re

txt = "The rain in Spain"
x = re.findall("ai", txt)
print(x)  # ['ai', 'ai']
```

في هذا المثال، `findall()` تعيد قائمة بجميع الأماكن التي تطابق فيها "ai" في النص.

##### وظيفة search():

تبحث عن أول تطابق في النص وتعيد كائن Match يحتوي على معلومات عن هذا التطابق.

**مثال:**

```python
import re

txt = "The rain in Spain"
x = re.search("\s", txt)
print("The first white-space character is located in position:", x.start())  # 3
```

في هذا المثال، `\s` يبحث عن أول فراغ في السلسلة النصية، ويُظهر موقعه باستخدام `x.start()`.

##### وظيفة split():

تقسم النص إلى قائمة من الأجزاء بناءً على التطابقات.

**مثال:**

```python
import re

txt = "The rain in Spain"
x = re.split("\s", txt)
print(x)  # ['The', 'rain', 'in', 'Spain']
```

في هذا المثال، يتم تقسيم النص عند كل مسافة، مما ينتج قائمة تحتوي على الكلمات.

##### وظيفة sub():

تستبدل جميع التطابقات بنص آخر من اختيارك.

**مثال:**

```python
import re

txt = "The rain in Spain"
x = re.sub("\s", "9", txt)
print(x)  # The9rain9in9Spain
```

في هذا المثال، يتم استبدال كل مسافة في النص بالرقم "9".

#### كائن Match

كائن Match هو كائن يحتوي على معلومات حول التطابق الذي تم العثور عليه باستخدام التعبيرات النمطية.

##### الخصائص والوظائف المتاحة في كائن Match:

1. **span()**: تُعيد مواضع البداية والنهاية للتطابق.
2. **string**: تُعيد النص الأصلي الذي تم تمريره للدالة.
3. **group()**: تُعيد الجزء من النص الذي تطابق مع التعبير النمطي.

**مثال:**

```python
import re

txt = "The rain in Spain"
x = re.search(r"\bS\w+", txt)
print(x.span())  # (12, 17)
print(x.string)  # The rain in Spain
print(x.group())  # Spain
```

في هذا المثال:
- `\bS\w+` هو التعبير النمطي الذي يبحث عن كلمة تبدأ بحرف "S" وتتبعها أي أحرف أخرى.
- `span()` يُظهر موضع الكلمة في النص.
- `string` يُعيد النص الأصلي.
- `group()` يُظهر الكلمة التي تطابقت مع النمط.

### الخلاصة:

التعبيرات النمطية في بايثون تقدم طريقة فعالة ومرنة للبحث عن أنماط معقدة في النصوص أو تعديلها. باستخدام وحدة `re`، يمكنك تنفيذ مجموعة متنوعة من العمليات مثل البحث عن تطابقات معينة، تقسيم النصوص، واستبدال الأنماط بتعابير محددة.
